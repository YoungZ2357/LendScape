<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Item Search</title>
</head>


<body>

    <input id="searchInput" type="text" placeholder="Item Search Demo">
    <button id="searchButton" onclick="makeSearchCommon(1, 20, true)">Search</button>
    <button id="clearButton" onclick="clearSearch()">Clear search/search without key word</button>



    <div id="loading"></div>
    <div id="results"></div>
    <div id="pagination"></div>



    <script src="{{ url_for('static', filename='js/items.js') }}"></script>
    <script>

        document.addEventListener('DOMContentLoaded', function() {

            // Search by press Enter
            const elem = document.getElementById("searchInput");
            elem.addEventListener("keydown", function(event) {
                if (event.key === "Enter") {
                    event.preventDefault();
                    makeSearchCommon(1, 20, true);
                }
            });

            // 初始加载数据
            makeSearchCommon(1, 20, false);
        });


        function changePageSize(size) {
            currentSize = parseInt(size);
            makeSearchCommon(currentPage || 1, currentSize, false);
        }

        function clearSearch() {
            document.getElementById("searchInput").value = "";
            currentQuery = "";
            makeSearchCommon(1, currentSize || 20, false);
        }
    </script>
</body>
</html>